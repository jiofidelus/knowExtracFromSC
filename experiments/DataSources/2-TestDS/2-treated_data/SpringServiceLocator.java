package org.imogene.web.server.locator ; public class SpringServiceLocator implements ServiceLocator {  @Override public Object getInstance(Class<?> clazz) { HttpServletRequest request = RequestFactoryServlet.getThreadLocalRequest() ;  ApplicationContext context = WebApplicationContextUtils.getWebApplicationContext(request.getSession().getServletContext()) ;  return context.getBean(clazz) ;  } }